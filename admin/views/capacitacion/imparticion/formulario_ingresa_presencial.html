
<form action="?sw=adimparti" method="POST" name="FormCurso" enctype="multipart/form-data"  >


	<span class="label label-sm label-info"> Curso </span><br>
	<input required="required"  type="text" class="form-control" name="curso" readonly value="{VALUE_COD_CURSO}" 
			style="    width: 95px;display: inline;margin-right: 15px;" required/>
			<strong>{NOMBRE_CURSO_imparticion}</strong>
	<br>
	<br>
	<span class="label label-sm label-danger"> Codigo Impartici√≥n</strong></span>
			<input required="required"  type="number" class="form-control" name="cod_imparticion" 
			value="{VALUE_COD_IMPARTICION}"/>
	<br>

	<div class="panel-heading" style="    color: #31708f;background-color: #d9edf7;border-color: #bce8f1;">
		<h3 class="panel-title">Campos Obligatorios</h3>
	</div>
	<br>
											
<span class="label label-sm label-info"> Horario</span>
	<div class="">
		<div class="panel-heading">
			<div class="row">
				
				<div class="col-xs-3 col-sm-3 ">
					Fecha
				</div>
				<div class="col-xs-3 col-sm-3">
					Hora Desde
				</div>
				<div class="col-xs-3 col-sm-3">
					Hora Hasta
				</div>
				<div class="col-xs-3 col-sm-3">
					Observaciones
				</div>
				
				<div class="col-xs-12 col-sm-12" style="height: 15px;">	 </div>
				
				<div class="col-xs-3 col-sm-3 ">
						<input required="required"  type="date" class="form-control" name="fecha" value="{VALUE_COD_IMPARTICION_FECHA}"/>
				</div>
				<div class="col-xs-3 col-sm-3">
						<input required="required"  type="time" class="form-control" name="hora_desde" value="{VALUE_COD_IMPARTICION_HORA_DESDE}"/>
				</div>
				<div class="col-xs-3 col-sm-3">
						<input required="required"  type="time" class="form-control" name="hora_hasta" value="{VALUE_COD_IMPARTICION_HORA_HASTA}"/>
				</div>
				<div class="col-xs-3 col-sm-3">
						<input  type="text" class="form-control" name="observacion" value="{VALUE_COD_IMPARTICION_OBSERVACION}" />
				</div>	


				
							
			</div>
		</div>			
<!--<BR><BR><BR>
<div class="panel-heading" style="    color: #31708f;background-color: #d9edf7;border-color: #bce8f1;">
		<h3 class="panel-title">Participantes</h3>
	</div>
	<br>

	<span class="label label-sm label-info"> Inscribir Participantes</span>
	<div class="row">
				<div class="col-xs-12 col-sm-12">
					<a href="?sw=DescargaPresencialImparticion&ci={COD_IMPARTICION_ENCODEADO}" >Descargar Plantilla para Subida de Excel</a>
					<br><BR>
					Subir Excel con Participantes
					<br>
					<input type="file"  style="width: 101%;" name="excel" id="excel">
				</div>
				<div class="col-xs-12 col-sm-12" style="height: 15px;">	
					<center><br>
								<button type="submit" class="btn btn-primary">
									Actualizar Participantes
								</button>
					</center> 
				</div>		
	</div>
	<br>

	-->
	<!--<span class="label label-sm label-info"> Sesiones</span>
	<div class="panel panel-gray">
		<div class="panel-heading">
			<div class="row">

				<div class="col-xs-3 col-sm-3 ">
					Fecha
				</div>

				<div class="col-xs-3 col-sm-3">
					Horarios
				</div>

				<div class="col-xs-3 col-sm-3">
					Total Horas
				</div>
				<div class="col-xs-3 col-sm-3">
					Relator
				</div>
			</div>
		</div>
		<div class="panel-body">
			<script>
			
			
				
				
				function ColocaHora(valor) {

					inicio = document.getElementById("desde_am" + valor).value;
					fin = document.getElementById("hasta_am" + valor).value;
					inicioMinutos = parseInt(inicio.substr(3, 2));
					inicioHoras = parseInt(inicio.substr(0, 2));

					finMinutos = parseInt(fin.substr(3, 2));
					finHoras = parseInt(fin.substr(0, 2));

					transcurridoMinutos = finMinutos - inicioMinutos;
					transcurridoHoras = finHoras - inicioHoras;

					if (transcurridoMinutos < 0) {
						transcurridoHoras--;
						transcurridoMinutos = 60 + transcurridoMinutos;
					}

					horas = transcurridoHoras.toString();
					minutos = transcurridoMinutos.toString();

					if (horas.length < 2) {
						horas = "0" + horas;
					}

					if (horas.length < 2) {
						horas = "0" + horas;
					}
					document.getElementById("nume_horas" + valor).value = horas + ":" + minutos;
					
					//PM
					inicio_pm = document.getElementById("desde_pm" + valor).value;
					fin_pm = document.getElementById("hasta_pm" + valor).value;
					inicioMinutos_pm = parseInt(inicio_pm.substr(3, 2));
					inicioHoras_pm = parseInt(inicio_pm.substr(0, 2));

					finMinutos_pm = parseInt(fin_pm.substr(3, 2));
					finHoras_pm = parseInt(fin_pm.substr(0, 2));

					transcurridoMinutos_pm = finMinutos_pm - inicioMinutos_pm;
					transcurridoHoras_pm = finHoras_pm - inicioHoras_pm;

					if (transcurridoMinutos_pm < 0) {
						transcurridoHoras_pm--;
						transcurridoMinutos_pm = 60 + transcurridoMinutos_pm;
					}

					horas_pm = transcurridoHoras_pm.toString();
					minutos_pm = transcurridoMinutos_pm.toString();

					if (horas_pm.length < 2) {
						horas_pm = "0" + horas_pm;
					}

					if (horas_pm.length < 2) {
						horas_pm = "0" + horas_pm;
					} 
					
					//document.getElementById("nume_horas_pm" + valor).value = horas_pm + ":" + minutos_pm;
					var suma_horas = parseInt(horas_pm) + parseInt(horas);
					var suma_minutos = parseInt(minutos_pm) + parseInt(minutos);
					
					if(suma_minutos>59){
						var division_minutos_por_hora=parseInt(suma_minutos)/60;
						
						var horas_extras=minutos=Math.floor(division_minutos_por_hora);
						//alert(horas_extras);
						var suma_horas_total=suma_horas + horas_extras;
						
						var suma_minutos=suma_minutos(horas_extras+60);
					}else{
						var suma_horas_total=suma_horas;
					}
					
					document.getElementById("nume_horas" + valor).value = suma_horas + ":" + suma_minutos;
					
					  
					
 
					
				}
			</script>

			<br>

			<script>
				function restarHoras() {

					inicio_am = document.getElementById("inicio").value;
					fin_am = document.getElementById("fin").value;

					inicioMinutos = parseInt(inicio.substr(3, 2));
					inicioHoras = parseInt(inicio.substr(0, 2));

					finMinutos = parseInt(fin.substr(3, 2));
					finHoras = parseInt(fin.substr(0, 2));

					transcurridoMinutos = finMinutos - inicioMinutos;
					transcurridoHoras = finHoras - inicioHoras;

					if (transcurridoMinutos < 0) {
						transcurridoHoras--;
						transcurridoMinutos = 60 + transcurridoMinutos;
					}

					horas = transcurridoHoras.toString();
					minutos = transcurridoMinutos.toString();

					if (horas.length < 2) {
						horas = "0" + horas;
					}

					if (horas.length < 2) {
						horas = "0" + horas;
					}

					document.getElementById("resta").value = horas + ":" + minutos;

				}

			</script>
			</script>
			<script type="text/javascript">
				var nextinput = 1;
				function AgregarCampos() {
				var fecha=document.getElementById('fecha' + nextinput ).value;
				var rut_relator=document.getElementById('rut_relator' + nextinput ).value;
				var nume_horas=document.getElementById('nume_horas' + nextinput ).value;
				
				
				if(fecha && rut_relator && nume_horas){
					var fecha_desde_am=document.getElementById('desde_am' + nextinput ).value;
					var fecha_hasta_am=document.getElementById('hasta_am' + nextinput ).value;
					var fecha_desde_pm=document.getElementById('desde_pm' + nextinput ).value;
					var fecha_hasta_pm=document.getElementById('hasta_pm' + nextinput ).value;
					 
					nextinput++; 
  
					$.ajax({
						url : '?sw=EjemplocomboBox',
						type : 'post',
						beforeSend : function() {
							/*$("#back").show();
							 $("#loader").show();*/
						},
						success : function(response) {
							/*$("#back").hide();
							 $("#loader").hide();*/

						}
					});

					var ejemplo2 = "ok";
					var score = $("#combo").html();
					
					campo = '<div class="row" id="sesion' + nextinput + '"><div class="col-xs-3 col-sm-3"><input type="date" size="20" class="form-control date-input-css" id="fecha' + nextinput + '"&nbsp; name="fecha' + nextinput + '"&nbsp; /></div><div class="col-xs-3 col-sm-3">AM <input value="00:00:00" onchange="ColocaHora(' + nextinput + ')" type="time" size="20" id="desde_am' + nextinput + '"&nbsp; name="desde_am' + nextinput + '"&nbsp; />Hasta <input value="00:00:00" onchange="ColocaHora(' + nextinput + ')" type="time" size="20"  id="hasta_am' + nextinput + '"&nbsp; name="hasta_am' + nextinput + '"&nbsp; /><br>PM <input value="00:00:00" onchange="ColocaHora(' + nextinput + ')"  type="time" size="20" id="desde_pm' + nextinput + '"&nbsp; name="desde_pm' + nextinput + '"&nbsp; />Hasta <input value="00:00:00" onchange="ColocaHora(' + nextinput + ')"  type="time" size="20" id="hasta_pm' + nextinput + '"&nbsp; name="hasta_pm' + nextinput + '"&nbsp; /></div><div class="col-xs-3 col-sm-3"><input type="text" readonly id="nume_horas' + nextinput + '" name="nume_horas' + nextinput + '" class="form-control"></div><div class="col-xs-3 col-sm-3"><select class="form-control" id="rut_relator' + nextinput + '"  name="rut_relator' + nextinput + '"><option>' + score + '</option></select></div><div class="col-xs-1 col-sm-1"></div></div><hr> ';
					$("#campos").append(campo);
					
					
				}else{
					alert("Faltan Datos");
					
				}
				
					
				}
			</script>

			<span id="combo" style="display:none"> {OPTIONS_RELATORES} </span>
			<div id="campos">
				<div class="row" id="sesion1"><div class="col-xs-3 col-sm-3"><input type="date" size="20" class="form-control date-input-css" id="fecha1"  name="fecha1" /></div><div class="col-xs-3 col-sm-3">AM <input value="00:00:00" onchange="ColocaHora(1)" type="time" size="20" id="desde_am1"&nbsp; name="desde_am1"&nbsp; />Hasta <input value="00:00:00" onchange="ColocaHora(1)" type="time" size="20"  id="hasta_am1"&nbsp; name="hasta_am1"&nbsp; /><br>PM <input value="00:00:00" onchange="ColocaHora(1)"  type="time" size="20" id="desde_pm1"&nbsp; name="desde_pm1"&nbsp; />Hasta <input value="00:00:00" onchange="ColocaHora(1)"  type="time" size="20" id="hasta_pm1"&nbsp; name="hasta_pm1"&nbsp; /></div><div class="col-xs-3 col-sm-3"><input type="text" readonly id="nume_horas1" name="nume_horas1" class="form-control"></div><div class="col-xs-3 col-sm-3"><select class="form-control" name="rut_relator1" id="rut_relator1">{OPTIONS_RELATORES}</select></div><div class="col-xs-1 col-sm-1"></div></div><hr>
				
				</div>
			<center>
				<input onclick="AgregarCampos();" class="btn btn-warning" type="button" value="Agregar Sesiones">
			</center>

		</div>
	</div>
-->
<BR><BR><BR>
	<div class="panel-heading" style="    color: #31708f;background-color: #d9edf7;border-color: #bce8f1;">
		<h3 class="panel-title">Campos Opcionales</h3>
	</div>
	<br>

	<span class="label label-sm label-info"> Ejecutivo</span>
	<br>
	<select class="form-control" name="ejecutivo">
		<option value=""></option>
		{OPTIONS_EJECUTIVOS}
	</select>
	</br>

	<!--<span class="label label-sm label-default"> Inscribir Postulantes (Oferta Abierta)</span>

	<div class="row">
		<div class="col-xs-12 col-sm-6">
			Subir Excel con Postulantes
			<br>
			<input type="file"  style="width: 101%;" name="excel_postulantes" id="excel_postulantes">
		</div>
		<div class="col-xs-12 col-sm-6">
			<br>
			<a href="rut_audiencias_postulantes.xlsx" > <i class="fa fa-cloud-download"></i> Descargar Plantilla para Subida de Excel</a>
		</div>
	</div>

	<input type="radio" name="validacionjefe" value="CONVALIDACIONJEFE">
	Con validacion de Jefe
	<br>
	<input type="radio" name="validacionjefe" value="SINVALIDACIONJEFE"> 
	Sin validacion de Jefe
	<br>
	<br>
	<hr>-->
	<span class="label label-sm label-info"> Direcci√≥n Streaming / F√≠sica</span>
	&nbsp;
	<input  type="text" class="form-control" name="direccion"  value="{VALUE_DIRECCION}" />
	<br>
	<span class="label label-sm label-info"> RUT Proveedor</span>
	&nbsp;
	<input  type="text" class="form-control" name="ciudad" value="{VALUE_CIUDAD}"  />

	<!--<br>
	<span class="label label-sm label-info"> Cupos <em>(Opcional)</em></span>
	&nbsp;
	<input   type="text" class="form-control" name="cupos" value="{VALUE_CUPOS}" size="5" maxlength="5" />

	<br>
	<hr>-->
	<br>
	<span class="label label-sm label-info"> Comentarios </span>
	<br>
	<textarea class="form-control" name="comentarios">{COMENTARIOS}</textarea>
	<br>
	<br>

					<center><br>
								<button type="submit" class="btn btn-primary">
									Crear Imparticion
								</button>
					</center> 
</form>

